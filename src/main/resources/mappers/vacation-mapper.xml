<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="approvalMapper">

	<!-- "Vacation" -->
	<resultMap id="vacationResultSet" type="Vacation">
		<id property="apNo" column="APPROVAL_NO"/>
		<result property="rownum" column="ROWNUM"/>
		<result property="apClass" column="APPROVAL_CLASS"/>
		<result property="detailClass" column="DETAIL_CLASS"/>
		<result property="title" column="TITLE"/>
		<result property="writer" column="WRITER"/>
		<result property="writerName" column="EMP_NAME"/>
		<result property="createDate" column="CREATE_DATE"/>
		<result property="deptName" column="DEPT_DNAME"/>
		<result property="content" column="AP_CONTENT"/>
		<result property="cooper" column="COOPERATION"/>
		<result property="deptShare" column="DEPT_SHARE"/>
		<result property="progress" column="PROGRESS"/>		
	</resultMap>
	
	<!-- Approval Attachment-->
	<resultMap id="approvalAtResultSet" type="Approval">
		<id property="apNo" column="APPROVAL_NO"/>
		<result property="atNo" column="AT_NO"/>
		<result property="newName" column="NEW__NAME"/>
		<result property="originName" column="ORIGIN_NAME"/>	
	</resultMap>
	
	<!-- VavationLine  -->
	<resultMap id="vacationLineResultSet" type="VavationLine">
		<id property="apNo" column="APPROVAL_NO"/>
		<result property="line1" column="LINE1"/>
		<result property="line2" column="LINE2"/>
		<result property="line3" column="LINE3"/>
		<result property="line4" column="LINE4"/>
		<result property="confirmStatus" column="CONFIRM_STATUS"/>
	</resultMap>
	
	<!-- Approval CC -->
	<resultMap id="approvalCCResultSet" type="ApprovalCC">
		<id property="apNo" column="APPROVAL_NO"/>
		<result property="ccDept" column="CC_DEPT"/>
		<result property="ccMember" column="CC_MEMBER"/>
		<result property="ckCount" column="CHECK_COUNT"/>
		<result property="ccCount" column="CC_COUNT"/>
	</resultMap>
	
	<!-- Approval Diploma -->
	<resultMap id="approvalDiplomaResultSet" type="ApprovalDiploma">
		<id property="apNo" column="APPROVAL_NO"/>
		<result property="email" column="EMAIL"/>
		<result property="phone" column="PHONE"/>
		<result property="officeAddress" column="ADDRESS"/>
	</resultMap>



	
	<!-- 결재라인 insert -->
	<insert id="insertLine" parameterType="VavationLine">
		INSERT INTO APPROVAL_LINE
		VALUES
		(TO_CHAR(SYSDATE, 'YYYY') || LPAD(SEQ_EA_AP_NO.CURRVAL, 5, '0'), #{line1}, #{line2}, #{line3}, #{line4}, DEFAULT)
	</insert>
	



</mapper>
